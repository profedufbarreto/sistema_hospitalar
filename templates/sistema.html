<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema | PEP Profissional</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .sys-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            padding: 100px 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .sys-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            padding: 40px 20px;
            border-radius: 15px;
            text-align: center;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .sys-card:hover {
            transform: translateY(-5px);
            border-color: #61afef;
            background: rgba(97, 175, 239, 0.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        .sys-icon { font-size: 2.5rem; }
        .sys-label { font-weight: 600; font-size: 1.1rem; }
        
        .main-header nav a { font-size: 0.85rem; }
        .theme-icon-minimal { font-family: "Segoe UI Symbol", sans-serif; }
    </style>
</head>
<body class="dark-mode">
    
<header class="main-header" style="background: #181a1f; padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center; position: fixed; top: 0; width: 100%; z-index: 1000;">
    <div class="nav-dropdown">
        <h2 onclick="toggleNavMenu()" style="cursor: pointer; margin: 0; display: flex; align-items: center; gap: 10px;" title="Clique para navegar entre mÃ³dulos">
            ğŸ“Š <span id="current-module">SISTEMA</span> <span style="font-weight: 100; opacity: 0.6; font-size: 0.8em;">â–¼</span>
        </h2>
        
        <div id="nav-menu-list" class="nav-menu-content card">
            <div class="menu-sep">NAVEGAÃ‡ÃƒO RÃPIDA</div>
            <a href="{{ url_for('dashboard') }}">ğŸ  Dashboard (Home)</a>
            <a href="{{ url_for('pacientes') }}">ğŸ‘¥ Pacientes Internados</a>
            <a href="{{ url_for('prontuario') }}">ğŸ“ Novo ProntuÃ¡rio</a>
            
            <div class="menu-sep">GESTÃƒO E CLÃNICA</div>
            <a href="{{ url_for('estoque') }}">ğŸ“¦ Estoque de Medicamentos</a>
            <a href="{{ url_for('estoque_historico_baixas') }}">ğŸ“‰ HistÃ³rico de Baixas</a>
            <a href="{{ url_for('provas_vida_geral') }}">â¤ï¸ HistÃ³rico de Provas de Vida</a>
            <a href="{{ url_for('arquivo') }}">ğŸ“ Arquivo (Altas)</a>
            <a href="{{ url_for('conversor') }}">âš–ï¸ Conversor de Medidas</a>
            
            {% if session.get('nivel') in ['admin', 'tecnico'] %}
                <div class="menu-sep">ADMINISTRAÃ‡ÃƒO</div>
                <a href="{{ url_for('gerenciar_usuarios') }}">ğŸ‘¤ Gerenciar UsuÃ¡rios</a>
            {% endif %}
        </div>
    </div>

    <nav style="display: flex; align-items: center; gap: 20px;">
        <button id="theme-toggle" class="theme-toggle-btn" title="Alternar Modo de Cor" style="background: none; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; border-radius: 8px; width: 38px; height: 38px; display: flex; align-items: center; justify-content: center;">
            <span id="theme-icon" class="theme-icon-minimal" style="font-size: 1.2rem;"></span>
        </button>

        <a href="{{ url_for('dashboard') }}" class="nav-link active">Dashboard</a>
        <a href="{{ url_for('sistema') }}" class="nav-link" style="color: #61afef; font-weight: bold;">Sistema</a>
        <a href="{{ url_for('logout') }}" style="color: #e06c75; font-weight: bold; text-decoration: none;" class="nav-link">Sair</a>
    </nav>
</header>

<main class="sys-grid">
    <a href="{{ url_for('prontuario') }}" class="sys-card">
        <span class="sys-icon">ğŸ“‹</span>
        <span class="sys-label">Novo ProntuÃ¡rio</span>
    </a>
    <a href="{{ url_for('pacientes') }}" class="sys-card">
        <span class="sys-icon">ğŸ‘¥</span>
        <span class="sys-label">Lista de Pacientes</span>
    </a>
    <a href="{{ url_for('estoque') }}" class="sys-card">
        <span class="sys-icon">ğŸ“¦</span>
        <span class="sys-label">Controle de Estoque</span>
    </a>

    <a href="{{ url_for('estoque_historico_baixas') }}" class="sys-card">
        <span class="sys-icon">ğŸ“‰</span>
        <span class="sys-label">Baixas de Estoque</span>
    </a>

    <a href="{{ url_for('conversor') }}" class="sys-card">
        <span class="sys-icon">ğŸ”„</span>
        <span class="sys-label">Conversor de Medidas</span>
    </a>
    <a href="{{ url_for('arquivo') }}" class="sys-card">
        <span class="sys-icon">ğŸ“</span>
        <span class="sys-label">Arquivo Geral</span>
    </a>
    
    {% if session.get('nivel') in ['admin', 'tecnico'] %}
    <a href="{{ url_for('gerenciar_usuarios') }}" class="sys-card">
        <span class="sys-icon">âš™ï¸</span>
        <span class="sys-label">Gerenciar UsuÃ¡rios</span>
    </a>
    {% endif %}
</main>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>